<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>Talk To Talk_Login</title>
<meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
<!--     Fonts and icons     -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
<link href="/css/material-kit.css?v=2.0.7" rel="stylesheet" />
<link rel="shortcut icon" href="/images/logo/logo.ico">
</head>
<body class="account-page index-page sidebar-collapse">

  <nav class="navbar fixed-top navbar-expand-sm navbar-transparent">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
	  <a href="/"><img src="/images/logo/logo.png" alt="Circle Image" style="width:90px;"></a>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav ml-auto">
          <li class="dropdown nav-item">
            <a href="javascript:;" class="profile-photo nav-link" data-toggle="dropdown">
	            <div class="profile-photo-small" sec:authorize="isAuthenticated()">
	               <img id="circleimg" style="width:40px;height:40px;border-radius: 100%;object-fit: cover;" alt="Circle Image" class="rounded-circle img-fluid">
	            </div>
            </a>
            <div class="dropdown-menu dropdown-menu-right">
              <h6 class="dropdown-header">💛Talk To Talk💜</h6>
              <a href="javascript:;" class="mypage dropdown-item">💁 mypage</a>
              <a href="/chat" class="dropdown-item">💬 chat</a>
              <a href="/logout" class="dropdown-item">👋 logout</a>
            </div>
            <a href="javascript:;" class="profile-photo nav-link" th:href="@{/account/regist}" sec:authorize="!isAuthenticated()">
              <i class="fa fa-user-plus"></i>
            </a>
          </li>
          <li class="nav-item" style="margin-left:10px;margin-right:10px;" sec:authorize="isAuthenticated()">
            <a href="javascript:;" th:href="@{/mypage}">
              <span id='nickname' class='mypage' th:text="${session.nickname}" style="color:black;">사용자</span>
              <span id='username' th:text="${session.username}" style="display:none;">사용자</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="javascript:;" class="profile-photo nav-link" th:href="@{/account/login}" sec:authorize="!isAuthenticated()">
              <div class="profile-photo-small">
                <img id="offcolor" src="/images/logo/off.png" alt="Circle Image" class="img-fluid">
              </div>
            </a>
            <a href="javascript:;" class="profile-photo nav-link" th:href="@{/logout}" sec:authorize="isAuthenticated()">
              <div class="profile-photo-small">
                <img id="oncolor" src="/images/logo/on.png" alt="Circle Image" class="img-fluid">
              </div>
            </a>
          </li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-->
  </nav>

	<div class="section section-signup page-header">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-md-6 mx-auto">
					<div class="card card-login">
						<form th:action="@{/loginProcess}" method="post" class="form">
							<div class="card-header card-header-primary text-center">
								<h4 class="card-title">Please Sign In</h4>
								<div class="social-line">
									<a href="javascript:;" class="btn btn-just-icon btn-link">
										<i class="fa fa-facebook-square"></i>
									</a> <a href="javascript:;" class="btn btn-just-icon btn-link">
										<i class="fa fa-twitter"></i>
									</a> <a href="javascript:;" class="btn btn-just-icon btn-link">
										<i class="fa fa-google-plus"></i>
									</a>
								</div>
							</div>
							<p class="description text-center">Welcome ✋</p>
							<div th:if="${param.error}" class="alert alert-danger" role="alert">
								Please Check Your Id and Password Again</div>
							<div th:if="${param.logout}">You've been logged out.</div>
							<div class="card-body">
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"> <i
											class="material-icons">face</i>
										</span>
									</div>
									<input type="text" id="username" name="username" class="form-control" placeholder="Id" required autofocus>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text"> <i
											class="material-icons">lock_outline</i>
										</span>
									</div>
									<input id="inputPassword" name="password" type="password" class="form-control" placeholder="Password" autocomplete="" required>
								</div>
							</div><br>
							<div class="footer text-center">
								<button class="btn btn-primary btn-link btn-wd btn-lg" type="submit">Sign In</button>
							</div>
						</form>
						<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}">
					</div>
				</div>
			</div>
		</div>
	</div>
	<!--  End Modal -->
	<footer class="footer" data-background-color="black">
		<div class="container">
			<nav class="float-left">
				<ul>
					<li><a href="/"> Talk To Talk </a></li>
					<li><a href="https://github.com/heejungjung/TalkToTalk"> About Us </a></li>
					<li><a href="https://github.com/heejungjung/TalkToTalk"> Github </a></li>
				</ul>
			</nav>
			<div class="copyright float-right">
				&copy;
				<script> document.write(new Date().getFullYear()) </script>
				, made with <i class="material-icons">favorite</i> by <a
					href="https://github.com/heejungjung/TalkToTalk" target="_blank">Talk To Talk</a> for a better chat.
			</div>
		</div>
	</footer>
</body>
<!--   Core JS Files   -->
<script src="/js/jquery.min.js" type="text/javascript"></script>
</html>