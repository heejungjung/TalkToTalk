<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8" />
<link rel="apple-touch-icon" sizes="76x76" href="/images/apple-icon.png">
<link rel="icon" type="image/png" href="/images/favicon.png">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>Talk To Talk_Regist</title>
<meta content='width=device-width, initial-scale=1.0, shrink-to-fit=no' name='viewport' />
<!--     Fonts and icons     -->
<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
<!-- CSS Files -->
<link href="/css/material-kit.css?v=2.0.7" rel="stylesheet" />
<script src="http://dmaps.daum.net/map_js_init/postcode.v2.js"></script>
<script src="//dapi.kakao.com/v2/maps/sdk.js?appkey=9517644de294e13dec105fef93fbd4cf&libraries=services"></script>
<style>
input[type=radio]:checked + label>img {
	background: linear-gradient(45deg,purple,RGB(27,48,79));
	border-radius:50%;
}
</style>
</head>

<body class="index-page sidebar-collapse" style="background-image: url('/images/bg.jpg'); background-size: cover;">

  <nav class="navbar navbar-transparent fixed-top navbar-expand-lg">
    <div class="container">
      <!-- Brand and toggle get grouped for better mobile display -->
      <div class="navbar-translate">
	  	<a href="/"><img src="/images/logo/logo.png" alt="Circle Image" style="width:10%;"></a>
      </div>
      <!-- Collect the nav links, forms, and other content for toggling -->
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav ml-auto">
          <li class="dropdown nav-item">
            <a class="nav-link profile-photo-small" data-toggle="dropdown" sec:authorize="isAuthenticated()">
               <img id="circleimg" style="width:40px;height:40px;border-radius: 100%;display: inline-block;vertical-align: middle;
               object-fit: cover;" alt="Circle Image">
            </a>
            <div class="dropdown-menu dropdown-with-icons">
              <h6 class="dropdown-header">Dropdown header</h6>
              <a href="javascript:;" class="mypage dropdown-item">üíÅ ÎÇ¥Ï†ïÎ≥¥</a>
              <a href="/chat" class="dropdown-item">üí¨ Ï±ÑÌåÖÎ∞©</a>
              <a href="/logout" class="dropdown-item">üëã Î°úÍ∑∏ÏïÑÏõÉ</a>
            </div>
            <a href="javascript:;" class="profile-photo nav-link" th:href="@{/account/regist}" sec:authorize="!isAuthenticated()">
              <i class="fa fa-user-plus"></i>
            </a>
          </li>
          <li class="nav-item" style="width:100px;" sec:authorize="isAuthenticated()">
            <a href="javascript:;" th:href="@{/mypage}">
              <span id='nickname' class='mypage' th:text="${session.nickname}" style="color:black;">ÏÇ¨Ïö©Ïûê</span>
              <span id='username' th:text="${session.username}" style="display:none;">ÏÇ¨Ïö©Ïûê</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="javascript:;" class="profile-photo nav-link" th:href="@{/account/login}" sec:authorize="!isAuthenticated()">
              <div class="profile-photo-small">
                <img id="offcolor" src="/images/logo/off.png" alt="Circle Image" class="img-fluid">
              </div>
            </a>
            <a href="javascript:;" class="profile-photo nav-link" th:href="@{/logout}" sec:authorize="isAuthenticated()">
              <div class="profile-photo-small">
                <img id="oncolor" src="/images/logo/on.png" alt="Circle Image" class="img-fluid">
              </div>
            </a>
          </li>
        </ul>
      </div><!-- /.navbar-collapse -->
    </div><!-- /.container-->
  </nav>
	<div class="section section-signup page-header">
		<div class="container">
			<div class="row">
				<div class="col-lg-4 col-md-6 mx-auto">
					<div class="card card-login">
						<form th:action="@{/account/regist}" method="post" enctype="multipart/form-data" accept-charset="UTF-8" class="form form-horizontal">
							<div class="card-header card-header-primary text-center">
								<h4 class="card-title">Registration</h4>
							</div>
							<div class="card-body" style="height:600px;overflow-y:auto">
								<div class="input-group">
									<img id="pview" style="display:block; margin:auto; width:100px; height:100px;
									object-fit: cover;" class="rounded-circle img-fluid"/>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">camera_alt</i>
										</span>
									</div>
									<input type="file" class="form-control" name="files" id="imgInput"/>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">face</i>
										</span>
									</div>
									<input type="text" id="username" name="username" class="form-control" placeholder="Id" required autofocus style="ime-mode:disabled">
									<div style="white-space: nowrap; display: inline;">
										<input id="idCheckOk" class="idCheckOk" type="hidden" value="false">
										<input type="button" class="myButton_id btn btn-warning btn-round btn-sm" value="Check üïµ">
									</div>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">lock_outline</i>
										</span>
									</div>
									<input id="inputPassword" name="password" type="password"
										class="form-control" placeholder="Password" autocomplete="" required>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">favorite</i>
										</span>
									</div>
									<input type="text" class="form-control" id="nickname" name="nickname" placeholder="Nickname" />
									<div style="white-space: nowrap; display: inline;">
										<input id="nnCheckOk" class="nnCheckOk" type="hidden"value="false">
										<input type="button" class="myButton_nn btn btn-warning btn-round btn-sm" value="Check üïµ">
									</div>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">wc</i>
										</span>
									</div>
									<div style="display: flex;justify-content: space-around; width:70%;">
									    <input type="radio" name="sex" id="sexF" value="F" style="position: absolute;left: -9999px;"/>
										<label for="sexF">
										  <img src="/images/logo/woman.png" alt="I'm a girl" width="50px"/>
										</label>
										<input type="radio" name="sex" id="sexM" value="M" style="position: absolute;left: -9999px;"/>
										<label for="sexM">
										  <img src="/images/logo/man.png" alt="I'm a boy" width="50px"/>
										</label>
									</div>
								</div>

								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">location_on</i>
										</span>
									</div>
									<input type="text" class="form-control" id="address" name="address" placeholder="Address">
									<input type="button" onclick="sample5_execDaumPostcode()" class="btn btn-success btn-round btn-sm"
									value="Search üåè"> <br>
									<div id="map" style="width: 300px; height: 300px; margin-top: 10px; display: none"></div>
								</div>
								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">today</i>
										</span>
									</div>
									<input type='date' id='birthday' name='birthday' style="text-align:center;width:80%;" value="yyyy-mm-dd">
								</div>

								<div class="input-group">
									<div class="input-group-prepend">
										<span class="input-group-text">
											<i class="material-icons">mail</i>
										</span>
									</div>
									<input type="email" class="form-control" name="email" id="email" placeholder="Email">
								</div>
							</div>
							<div class="footer text-center">
								<input type="submit" id="submit" class="btn btn-primary btn-round btn-sm" value="Register In üëè"/>
								<a href="/"><input type="button" class="btn btn-primary btn-round btn-sm" value="Back üëà"></a>
								<input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!--  End Modal -->
	<footer class="footer" data-background-color="black">
		<div class="container">
			<nav class="float-left">
				<ul>
					<li><a href="https://www.creative-tim.com/"> Creative Tim
					</a></li>
					<li><a href="https://www.creative-tim.com/presentation">
							About Us </a></li>
					<li><a href="https://www.creative-tim.com/blog"> Blog </a></li>
					<li><a href="https://www.creative-tim.com/license">
							Licenses </a></li>
				</ul>
			</nav>
			<div class="copyright float-right">
				&copy;
				<script>
					document.write(new Date().getFullYear())
				</script>
				, made with <i class="material-icons">favorite</i> by <a
					href="https://www.creative-tim.com/" target="_blank">Creative
					Tim</a> for a better web.
			</div>
		</div>
	</footer>
</body>
<!--   Core JS Files   -->
<script src="/js/core/jquery.min.js" type="text/javascript"></script>
<script src="/js/core/popper.min.js" type="text/javascript"></script>
<script src="/js/core/bootstrap-material-design.min.js"
	type="text/javascript"></script>
<script src="/js/plugins/moment.min.js"></script>
<!--	Plugin for the Datepicker, full documentation here: https://github.com/Eonasdan/bootstrap-datetimepicker -->
<script src="/js/plugins/bootstrap-datetimepicker.js"
	type="text/javascript"></script>
<!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
<script src="/js/plugins/nouislider.min.js" type="text/javascript"></script>
</body>
<script type="text/javascript">
	function readURL(input) {
		if (input.files && input.files[0]) {
			var reader = new FileReader();
			reader.onload = function(e) {
				$('#pview').attr('src', e.target.result);
			}
			reader.readAsDataURL(input.files[0]);
		}
	}

	$("#imgInput").change(function() {
		readURL(this);
	});

	birthday.max = new Date(new Date().getTime() - 1 * 24 * 60 * 60 * 1000).toISOString().split('T')[0];
	
	 $('.myButton_id').click(function () {
         if ($('#username').val() != '') {
	        $.ajax({
	            type: "GET",
	            url: "/account/idCheck",
	            data: {
	                id: $('#username').val()
	            },
	            success: function (data) {	
	                if ($.trim(data) == "YES") {
						alert("Available üòª");
                        $('#idCheckOk').val(true);
	                } else {
						alert("Not Available üòø");
                        $('#username').val('');
                        $('#username').focus();
	                }
	            }
	        })}
	    });
	 
	 $('.myButton_nn').click(function () {
         if ($('#nickname').val() != '') {
	        $.ajax({
	            type: "GET",
	            url: "/account/nnCheck",
	            data: {
	            	nickname: $('#nickname').val()
	            },
	            success: function (data) {	
	                if ($.trim(data) == "YES") {
						alert("Available üòª");
	                    $('#nnCheckOk').val(true);
	                } else {
						alert("Not Available üòø");
                        $('#nickname').val('');
                        $('#nickname').focus();
	                }
	            }
	        })}
	    });

	 $(document).ready(function(){ 
		 $("#submit").click(function(){
			 if($("#username").val().length==0){ alert("Nickname Required üòø"); $("#username").focus(); return false; }
			 if($('#idCheckOk').val() != "true")
			 {
				alert("Check Id Availability üïµ"); 
				$("#username").focus();
				return false;
			 }	
			 if($("#inputPassword").val().length==0){ alert("Password Required üòø"); $("#inputPassword").focus(); return false; }
			 if($("#nickname").val().length==0){ alert("Nickname Required üòø"); $("#nickname").focus(); return false; }
			 if($('#nnCheckOk').val() != "true")
			 {
				alert("Check Nickname Availability üïµ"); 
				$("#nickname").focus();
				return false;
			 }	
			 if(!$("input:radio[name=sex]").is(':checked')){ alert("Gender Required üòø"); $("input:radio[id=sexM]").prop("checked", true); return false; }
			 if($("#address").val().length==0){ alert("Address Required üòø"); $("#address").focus(); return false; }
			 if($("#birthday").val().length==0){ alert("Birthday Required üòø"); $("#birthday").focus(); return false; }
			 if($("#email").val().length==0){ alert("Email Required üòø"); $("#email").focus(); return false; }
			 });
		 });

	 var mapContainer = document.getElementById('map'), // ÏßÄÎèÑÎ•º ÌëúÏãúÌï† div
	 	mapOption = {
	 		center: new daum.maps.LatLng(37.537187, 127.005476), // ÏßÄÎèÑÏùò Ï§ëÏã¨Ï¢åÌëú
	 		level: 5 // ÏßÄÎèÑÏùò ÌôïÎåÄ Î†àÎ≤®
	 	};
 	//ÏßÄÎèÑÎ•º ÎØ∏Î¶¨ ÏÉùÏÑ±
 	var map = new daum.maps.Map(mapContainer, mapOption);
 	//Ï£ºÏÜå-Ï¢åÌëú Î≥ÄÌôò Í∞ùÏ≤¥Î•º ÏÉùÏÑ±
 	var geocoder = new daum.maps.services.Geocoder();
 	//ÎßàÏª§Î•º ÎØ∏Î¶¨ ÏÉùÏÑ±
 	var marker = new daum.maps.Marker({
 		position: new daum.maps.LatLng(37.537187, 127.005476),
 		map: map
 	});
 	function sample5_execDaumPostcode() {
 		new daum.Postcode({
 			oncomplete: function(data) {
 				// Í∞Å Ï£ºÏÜåÏùò ÎÖ∏Ï∂ú Í∑úÏπôÏóê Îî∞Îùº Ï£ºÏÜåÎ•º Ï°∞Ìï©ÌïúÎã§.
 				// ÎÇ¥Î†§Ïò§Îäî Î≥ÄÏàòÍ∞Ä Í∞íÏù¥ ÏóÜÎäî Í≤ΩÏö∞Ïóî Í≥µÎ∞±('')Í∞íÏùÑ Í∞ÄÏßÄÎØÄÎ°ú, Ïù¥Î•º Ï∞∏Í≥†ÌïòÏó¨ Î∂ÑÍ∏∞ ÌïúÎã§.
 				var fullAddr = data.address; // ÏµúÏ¢Ö Ï£ºÏÜå Î≥ÄÏàò
 				var extraAddr = ''; // Ï°∞Ìï©Ìòï Ï£ºÏÜå Î≥ÄÏàò
 				
 				// Í∏∞Î≥∏ Ï£ºÏÜåÍ∞Ä ÎèÑÎ°úÎ™Ö ÌÉÄÏûÖÏùºÎïå Ï°∞Ìï©ÌïúÎã§.
 				if(data.addressType === 'R'){
 					//Î≤ïÏ†ïÎèôÎ™ÖÏù¥ ÏûàÏùÑ Í≤ΩÏö∞ Ï∂îÍ∞ÄÌïúÎã§.
 					if(data.bname !== ''){
 						extraAddr += data.bname;
 					}
 					// Í±¥Î¨ºÎ™ÖÏù¥ ÏûàÏùÑ Í≤ΩÏö∞ Ï∂îÍ∞ÄÌïúÎã§.
 					if(data.buildingName !== ''){
 						extraAddr += (extraAddr !== '' ? ', ' + data.buildingName : data.buildingName);
 					}
 					// Ï°∞Ìï©ÌòïÏ£ºÏÜåÏùò Ïú†Î¨¥Ïóê Îî∞Îùº ÏñëÏ™ΩÏóê Í¥ÑÌò∏Î•º Ï∂îÍ∞ÄÌïòÏó¨ ÏµúÏ¢Ö Ï£ºÏÜåÎ•º ÎßåÎì†Îã§.
 					fullAddr += (extraAddr !== '' ? ' ('+ extraAddr +')' : '');
 				}
 				
 				// Ï£ºÏÜå Ï†ïÎ≥¥Î•º Ìï¥Îãπ ÌïÑÎìúÏóê ÎÑ£ÎäîÎã§.
 				document.getElementById("address").value = fullAddr;
 				// Ï£ºÏÜåÎ°ú ÏÉÅÏÑ∏ Ï†ïÎ≥¥Î•º Í≤ÄÏÉâ
 				geocoder.addressSearch(data.address, function(results, status) {
 					// Ï†ïÏÉÅÏ†ÅÏúºÎ°ú Í≤ÄÏÉâÏù¥ ÏôÑÎ£åÎêêÏúºÎ©¥
 					if (status === daum.maps.services.Status.OK) {
 						var result = results[0]; //Ï≤´Î≤àÏß∏ Í≤∞Í≥ºÏùò Í∞íÏùÑ ÌôúÏö©
 						// Ìï¥Îãπ Ï£ºÏÜåÏóê ÎåÄÌïú Ï¢åÌëúÎ•º Î∞õÏïÑÏÑú
 						var coords = new daum.maps.LatLng(result.y, result.x);
 						// ÏßÄÎèÑÎ•º Î≥¥Ïó¨Ï§ÄÎã§.
 						mapContainer.style.display = "block";
 						map.relayout();
 						// ÏßÄÎèÑ Ï§ëÏã¨ÏùÑ Î≥ÄÍ≤ΩÌïúÎã§.
 						map.setCenter(coords);
 						// ÎßàÏª§Î•º Í≤∞Í≥ºÍ∞íÏúºÎ°ú Î∞õÏùÄ ÏúÑÏπòÎ°ú ÏòÆÍ∏¥Îã§.
 						marker.setPosition(coords)
 						}
 					});
 				}
 		}).open();
 	}
</script>
</html>